#Mandatory macros:
# CONTROLLER  MaxGauge name
# SENSOR      Vaccum sensor name

# Optional Macros:
# WARN        Warn (MINOR) level, defaults to Inf (No warning)
# ALARM       Alarm (MAJOR) level, defaults to Inf (No alarm)
# MIN         Minimal range exponent, defaults to -11
# MAX         Maximal range exponent, defaults to 3
# PREC        Precision, defaults to -3 (3 digit exponential)

# Many records are set by either $(CONTROLLER):READ-STATUS or $(CONTROLLER):READ-INFOS

record (ai, "$(CONTROLLER):READ-ROTATIONSPEED")
{
# reads ONOFFG (SEN), STATUS and PRESSURE (PRX)  of all sensors
    field (DTYP, "stream")
    field (INP,  "@TC400.proto read_rotationspeed($(ADDR=100),$(CONTROLLER)) $(PORT)")
    field (SCAN, "$(FASTSCAN=1 second)")
    field (EGU, "Hz")
}

record (ai, "$(CONTROLLER):READ-SETTINGSPEED")
{
# reads ONOFFG (SEN), STATUS and PRESSURE (PRX)  of all sensors
    field (DTYP, "stream")
    field (INP,  "@TC400.proto read_settingspeed($(ADDR=100),$(CONTROLLER)) $(PORT)")
    field (SCAN, "$(FASTSCAN=1 second)")
    field (EGU, "Hz")
}

record (stringout, "$(CONTROLLER):READ-STATUS")
{
# reads ONOFFG (SEN), STATUS and PRESSURE (PRX)  of all sensors
    field (DTYP, "stream")
    field (INP,  "@TC400.proto read_status($(ADDR=100),$(CONTROLLER)) $(PORT)")
    field (SCAN, "$(FASTSCAN=1 second)")
}

record (stringin, "$(CONTROLLER):STATUS")
{
}

record (ai, "$(CONTROLLER):set_rs485")
{
    field (DTYP, "stream")
    field (INP, "@TC400.proto set_rs485 $(PORT)")
    field (SCAN, "I/O Intr")
}

record (calc, "$(CONTROLLER):ROTATION_SPEED")
{
    field (CALC, "A")
    field (EGU,  "Hz")
    field (ASG,  "READONLY")
}

record (calc, "$(CONTROLLER):SETTING_SPEED")
{
    field (CALC, "A")
    field (EGU,  "Hz")
    field (ASG,  "READONLY")
}

record (bi, "$(CONTROLLER):ONOFFG")
{
    field (ZNAM, "OFF")
    field (ONAM, "ON")
}

record (calcout, "$(CONTROLLER):ONOFFG-UPDATER")
{
    field (CALC, "A==111111")
    field (OUT,  "$(CONTROLLER):ONOFFG PP")
    field (ASG,  "READONLY")
}

record (bo, "$(CONTROLLER):ONOFF")
{
    field (ZNAM, "OFF")
    field (ONAM, "ON")
    field (DTYP, "stream")
    field (OUT,  "@TC400.proto set_onoff($(ADDR=100),$(CONTROLLER)) $(PORT)")
    field (PRIO, "HIGH")
    field (ASG,  "$(ASG=)")
}

record (bi, "$(CONTROLLER):STANDBYG")
{
    field (ZNAM, "OFF")
    field (ONAM, "ON")
}

record (calcout, "$(CONTROLLER):STANDBYG-UPDATER")
{
    field (CALC, "A==111111")
    field (OUT,  "$(CONTROLLER):STANDBYG PP")
    field (ASG,  "READONLY")
}

record (bo, "$(CONTROLLER):STANDBY")
{
    field (ZNAM, "OFF")
    field (ONAM, "ON")
    field (DTYP, "stream")
    field (OUT,  "@TC400.proto set_standby($(ADDR=100),$(CONTROLLER)) $(PORT)")
    field (PRIO, "HIGH")
    field (ASG,  "$(ASG=)")
}

record (bi, "$(CONTROLLER):MOTORPUMPG")
{
    field (ZNAM, "OFF")
    field (ONAM, "ON")
}

record (calcout, "$(CONTROLLER):MOTORPUMPG-UPDATER")
{
    field (CALC, "A==111111")
    field (OUT,  "$(CONTROLLER):MOTORPUMPG PP")
    field (ASG,  "READONLY")
}

record (bo, "$(CONTROLLER):MOTORPUMP")
{
    field (ZNAM, "OFF")
    field (ONAM, "ON")
    field (DTYP, "stream")
    field (OUT,  "@TC400.proto set_motorpump($(ADDR=100),$(CONTROLLER)) $(PORT)")
    field (PRIO, "HIGH")
    field (ASG,  "$(ASG=)")
}


